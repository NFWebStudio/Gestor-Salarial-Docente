<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>| ğ—¦ğ—¨ğ—˜ğ—Ÿğ——ğ—¢ ğ——ğ—¢ğ—–ğ—˜ğ—¡ğ—§ğ—˜ |</title>
  <link rel="icon" type="image/png" href="Logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-dark: #0f172a;
      --card-bg: rgba(30, 41, 59, 0.7);
      --primary: #dc81f8;
      --primary-hover: #cf4d1e;
      --secondary: #10b981;
      --text-main: #f8fafc;
      --text-dim: #94a3b8;
      --accent: #f43f5e;
      --input-bg: #1e293b;
      --border: #334155;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-dark);
      background-image: 
        radial-gradient(at 0% 0%, rgba(129, 140, 248, 0.15) 0px, transparent 50%),
        radial-gradient(at 100% 100%, rgba(16, 185, 129, 0.1) 0px, transparent 50%);
      color: var(--text-main);
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .calculator-container {
      background-color: var(--card-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      padding: 40px;
      border-radius: 28px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      max-width: 850px;
      width: 100%;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    header {
      text-align: center;
      margin-bottom: 40px;
    }

    h1 {
      font-weight: 800;
      font-size: 2.2rem;
      margin: 0;
      letter-spacing: -0.025em;
      background: linear-gradient(to right, #a5b4fc, #818cf8, #c084fc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    @media (max-width: 768px) {
      .form-grid { grid-template-columns: 1fr; }
    }

    .form-group {
      display: flex;
      flex-direction: column;
      background: rgba(255, 255, 255, 0.03);
      padding: 15px;
      border-radius: 16px;
      border: 1px solid transparent;
      transition: all 0.2s ease;
    }

    label {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    select, input {
      background-color: var(--input-bg);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px;
      color: white;
      font-size: 0.95rem;
      appearance: none; 
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
    }

    .info {
      font-size: 0.8rem;
      color: var(--secondary);
      margin-top: 8px;
      font-weight: 600;
      min-height: 1.2rem;
    }

    .actions {
      grid-column: 1 / -1;
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    button {
      cursor: pointer;
      border: none;
      border-radius: 14px;
      padding: 18px;
      font-size: 1rem;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      color: white;
    }

    #dividirBtn {
      background: rgba(16, 185, 129, 0.1);
      border: 2px solid var(--secondary);
      color: var(--secondary);
      display: none;
    }

    .result-card {
      margin-top: 30px;
      padding: 30px;
      background: rgba(16, 185, 129, 0.1);
      border-radius: 24px;
      text-align: center;
    }

    .result-value {
      font-size: 2.2rem;
      font-weight: 800;
      color: var(--secondary);
    }
  </style>
</head>
<body>

<div class="calculator-container">
  <header>
    <h1>Gestor Salarial Docente</h1>
  </header>

  <div class="form-grid">
    <div class="form-group">
      <label>AÃ±o de LiquidaciÃ³n</label>
      <select id="anio" onchange="actualizarMeses()">
        <option value="">Seleccionar aÃ±o</option>
        <option value="2023">2023</option>
        <option value="2024">2024</option>
        <option value="2025">2025</option>
        <option value="2026">2026</option>
      </select>
    </div>

    <div class="form-group">
      <label>Mes</label>
      <select id="mes" disabled onchange="actualizarTodo()"></select>
    </div>

    <div class="form-group">
      <label>Ãndice de cargo bÃ¡sico</label>
      <select id="indice" onchange="mostrarMultiplicador(); actualizarTodo();">
        <option value="">Seleccione Ã­ndice</option>
      </select>
      <div class="info" id="valorBase"></div>
    </div>

    <div class="form-group" id="multiplicadorContainer" style="display:none">
      <label>Factor de MultiplicaciÃ³n</label>
      <select id="factorMultiplicacion" onchange="actualizarTodo()">
        <script>
          for (let i = 1; i <= 20; i++) document.write(`<option value="${i}">x${i}</option>`);
        </script>
      </select>
    </div>

    <div class="form-group">
      <label>AntigÃ¼edad (AÃ±os)</label>
      <input type="number" id="antiguedad" placeholder="Ej: 5" onchange="actualizarTodo()" />
      <div class="info" id="valorAntiguedad"></div>
    </div>

    <div class="form-group">
      <label>Ruralidad</label>
      <select id="ruralidad" onchange="actualizarTodo()">
        <option value="">Ninguna</option>
        <option value="R1">R1 (30%)</option>
        <option value="R2">R2 (60%)</option>
        <option value="R3">R3 (90%)</option>
        <option value="R4">R4 (100%)</option>
        <option value="R5">R5 (120%)</option>
      </select>
      <div class="info" id="valorRuralidad"></div>
    </div>

    <div class="form-group">
      <label>Plus de EnseÃ±anza</label>
      <select id="plus" onchange="actualizarTodo()">
        <option value="">Sin Plus</option>
        <option value="0623-Preescolar">0623 - Preescolar</option>
        <option value="0623-PsicologÃ­a">0623 - PsicologÃ­a</option>
        <option value="0640-Especial">0640 - Especial</option>
        <option value="0623-Especial">0623 - Especial</option>
        <option value="0641-Primaria">0641 - Primaria</option>
      </select>
      <div class="info" id="valorPlus"></div>
    </div>

    <div class="form-group">
      <label>BonificaciÃ³n de Cargo</label>
      <select id="bonificacion" onchange="actualizarTodo()">
        <option value="">Sin BonificaciÃ³n</option>
        <option value="0653">0653 - Bonif PR Media</option>
        <option value="06631">0663 - Jefe PR/Sub Jefe Media</option>
        <option value="06632">0663 - PR Residente</option>
        <option value="06633">0663 - PR ArtÃ­. Y Ed FÃ­sica</option>
        <option value="06634">0663 - JP/Sub Jef.Art Y Ed. FÃ­sca</option>
        <option value="06635">0663 - PR Viaje</option>
        <option value="06636">0663 - PR Sup</option>
        <option value="06637">0663 - JPR/Sub Jefe Sup</option>
      </select>
      <div class="info" id="valorBonificacion"></div>
    </div>

    <div class="form-group">
      <label>BonificaciÃ³n 455</label>
      <select id="codigo455" onchange="actualizarTodo()">
        <option value="">No aplicar</option>
        <option value="455">Aplicar 455</option>
      </select>
      <div class="info" id="valor455"></div>
    </div>

    <div class="form-group">
      <label>BonificaciÃ³n 667</label>
      <select id="codigo667" onchange="actualizarTodo()">
        <option value="">No aplicar</option>
        <option value="667">Aplicar 667</option>
      </select>
      <div class="info" id="valor667"></div>
    </div>

    <div class="form-group" style="grid-column: 1 / -1;">
      <label>CÃ³digo Adicional (Porcentajes / X Ãndice)</label>
      <select id="codigoGral" onchange="actualizarTodo()">
        <option value="">Ninguno</option>
        <option value="33%">33%</option>
        <option value="54%">54%</option>
        <option value="37%">37%</option>
        <option value="20%">20%</option>
        <option value="X Ã­ndice">X Ã­ndice</option>
      </select>
      <div class="info" id="valorCodigoGral"></div>
    </div>

    <div class="actions">
      <button class="btn-primary" onclick="calcular()">ğ™²ğ™°ğ™»ğ™²ğš„ğ™»ğ™°ğš ğ™»ğ™¸ğš€ğš„ğ™¸ğ™³ğ™°ğ™²ğ™¸ğ™¾ğ™½</button>
      <button id="dividirBtn" onclick="dividirPor12()">ğš…ğ™´ğš ğ™¿ğšğ™¾ğ™¼ğ™´ğ™³ğ™¸ğ™¾ ğ™¼ğ™´ğ™½ğš‚ğš„ğ™°ğ™»</button>
    </div>
  </div>

  <div id="resultContainer" style="display: none;">
    <div class="result-card">
      <div id="resultado" class="result-value"></div>
    </div>
  </div>
</div>

<script>
  const sueldos = {
    "1.1": { "2023-01": 49660.60, "2023-02": 49660.60, "2023-03": 58102.00, "2023-04": 58102.00, "2023-05": 69526.60, "2023-06": 69526.60, "2023-07": 84422.80, "2023-08": 84422.80, "2023-09": 96837.40, "2023-10": 96837.40, "2023-11": 107762.60, "2023-12": 107762.60, "2024-01": 134701.6, "2024-02": 159486.8, "2024-03": 176464.2, "2024-04": 190405.6, "2024-05": 201405.60, "2024-06": 214605.60, "2024-07": 214605.60, "2024-08": 223625.60, "2024-09": 233525.60, "2024-10": 243797.40, "2024-11": 254370.60, "2024-12": 254370.60, "2025-01": 254370.60, "2025-02": 271176.30, "2025-03": 277347.40, "2025-04": 277347.40, "2025-05": 293988.20, "2025-06": 293988.20, "2025-07": 305081.70, "2025-08": 312709.10, "2025-09": 312709.10, "2025-10": 320336.50, "2025-11": 320336.50, "2025-12": 323539.70, "2026-01": 329946.10, "2026-02": 334750.90},
    "1.2": { "2023-01": 54175.20, "2023-02": 54175.20, "2023-03": 63384.00, "2023-04": 63384.00, "2023-05": 75847.20, "2023-06": 75847.20, "2023-07": 92097.60, "2023-08": 92097.60,"2023-09": 105640.80, "2023-10": 105640.80, "2023-11": 117559.20, "2023-12": 117559.20, "2024-01": 146947.2, "2024-02": 173985.6,  "2024-03": 192506.40, "2024-04": 207715.20, "2024-05": 219715.20, "2024-06": 234115.20, "2024-07": 234115.20, "2024-08": 243955.20, "2024-09": 254755.20, "2024-10": 265960.80, "2024-11": 277495.20, "2024-12": 277495.20, "2025-01": 277495.20, "2025-02": 296919.60, "2025-03": 302560.80, "2025-04": 277347.40, "2025-05": 320714.40, "2025-06": 320714.40, "2025-07": 332816.40, "2025-08": 341137.20, "2025-09": 341137.20, "2025-10": 349458.00, "2025-11": 349458.00, "2025-12": 352952.40, "2026-01": 359941.20, "2026-02": 365182.80 },  
    "1":   { "2023-01": 45146, "2023-02": 45146, "2023-03": 52820, "2023-04": 52820, "2023-05": 63206, "2023-06": 63206, "2023-07": 76748, "2023-08": 76748, "2023-09": 88034, "2023-10": 88034, "2023-11": 97966, "2023-12": 97966, "2024-01": 122456, "2024-02": 144988, "2024-03": 160422, "2024-04": 173096, "2024-05": 183096, "2024-06": 195096, "2024-07": 195096, "2024-08": 203296, "2024-09": 212296, "2024-10": 221634, "2024-11": 231246, "2024-12": 231246, "2025-01": 231246, "2025-02": 247433, "2025-03": 252134, "2025-04": 252134, "2025-05": 267262, "2025-06": 267262, "2025-07": 277347, "2025-08": 284281, "2025-09": 284281, "2025-10": 291215, "2025-11": 291215, "2025-12": 294127, "2026-01": 299951, "2026-02": 304319},
    "15":  { "2023-01": 3009.73, "2023-02": 3009.73, "2023-03": 3521.33, "2023-04": 3521.33, "2023-05": 4213.73, "2023-06": 4213.73, "2023-07": 5116.53, "2023-08": 5116.53, "2023-09": 5868.93, "2023-10": 5868.93, "2023-11": 6531.07, "2023-12": 6531.07, "2024-01": 8163.73, "2024-02": 9665.87, "2024-03": 10694.80, "2024-04": 11539.73, "2024-05": 12206.40, "2024-06": 12206.40, "2024-07": 13006.40, "2024-08": 13553.07, "2024-09": 14153.07, "2024-10": 14775.60, "2024-11": 15416.40, "2024-12": 15416.40, "2025-01": 15416.40, "2025-02": 16495.53, "2025-03": 16808.93, "2025-04": 16808.93, "2025-05": 17817.47, "2025-06": 17817.47, "2025-07": 18489.80, "2025-08": 18952.07, "2025-09": 18952.07, "2025-10": 19414.33, "2025-11": 19414.33, "2025-12": 19608.47, "2026-01": 19996.73, "2026-02": 20287.93},
    "18":  { "2023-01": 2508.11, "2023-02": 2508.11, "2023-03": 2934.44, "2023-04": 2934.44, "2023-05": 3511.44, "2023-06": 3511.44, "2023-07": 4263.78, "2023-08": 4263.78, "2023-09": 4890.78, "2023-10": 4890.78, "2023-11": 5442.56, "2023-12": 5442.56, "2024-01": 6803.11, "2024-02": 8054.89, "2024-03": 8912.33, "2024-04": 9616.44, "2024-05": 10172.00, "2024-06": 10172.00, "2024-07": 10838.67, "2024-08": 11294.22, "2024-09": 11794.22, "2024-10": 12313.00, "2024-11": 12847.00, "2024-12": 12847.00, "2025-01": 12847.00, "2025-02": 13746.28, "2025-03": 14007.44, "2025-04": 14007.44, "2025-05": 14847.89, "2025-06": 14847.89, "2025-07": 15408.17, "2025-08": 15793.39, "2025-09": 15793.39, "2025-10": 16178.61, "2025-11": 16178.61, "2025-12": 16340.39, "2026-01": 16663.94, "2026-02": 16906.61},
    "12": {"2023-01": 3762.17, "2023-02": 3762.17, "2023-03": 4401.67, "2023-04": 4401.67, "2023-05": 5267.17, "2023-06": 5267.17, "2023-07": 6395.67, "2023-08": 6395.67, "2023-09": 7336.17, "2023-10": 7336.17, "2023-11": 8163.83, "2023-12": 8163.83, "2024-01": 10204.67, "2024-02": 12082.33, "2024-03": 13368.50, "2024-04": 14424.67, "2024-05": 15258.00, "2024-06": 15258.00, "2024-07": 16258.00, "2024-08": 16941.33, "2024-09": 17691.33, "2024-10": 18469.50, "2024-11": 19270.50, "2024-12": 19270.50, "2025-01": 19270.50, "2025-02": 20619.42, "2025-03": 21011.17, "2025-04": 21011.17, "2025-05": 22271.83, "2025-06": 22271.83, "2025-07": 23112.25, "2025-08": 23690.08, "2025-09": 23690.08, "2025-10": 24267.92, "2025-11": 24267.92, "2025-12": 24510.92, "2026-01": 24995.92, "2026-02": 25359.92},
    "10": { "2023-01": 4514.60, "2023-02": 4514.60, "2023-03": 5282.00, "2023-04": 5282.00, "2023-05": 6320.60, "2023-06": 6320.60, "2023-07": 7674.80, "2023-08": 7674.80, "2023-09": 8803.40, "2023-10": 8803.40, "2023-11": 9796.60, "2023-12": 9796.60, "2024-01": 12245.60, "2024-02":14498.80, "2024-03": 16042.20, "2024-04": 17309.60, "2024-05": 18309.60, "2024-06": 18309.60, "2024-07": 19509.60, "2024-08": 20329.60, "2024-09": 21229.60, "2024-10": 22163.40, "2024-11": 23124.60, "2024-12": 23124.60, "2025-01": 23124.60, "2025-02": 24743.30, "2025-03": 25213.40, "2025-04": 25213.40, "2025-05": 26726.20, "2025-06": 26726.20, "2025-07": 27734.70, "2025-08": 28428.10, "2025-09": 28428.10, "2025-10": 29121.50, "2025-11":  29121.50, "2025-12": 29412.70, "2026-01": 29995.10, "2026-02": 30431.90 },
    // Falta completar "14"
    "14": { "2023-01": 53272.28, "2023-02":53272.28, "2023-03": 62327.60, "2023-04": 62327.60, "2023-05": 74583.08, "2023-06": 74583.08, "2023-07": 90562.64, "2023-08": 90562.64, "2023-09": 103880.12, "2023-10": 103880.12, "2023-11": 115599.88, "2023-12": 115599.88, "2024-01": 144498.08, "2024-02": 171085.84, "2024-03": 189297.96, "2024-04": 204253.28, "2024-05": 216053.28, "2024-06": 216053.28, "2024-07": 230213.28, "2024-08": 239889.28, "2024-09": 250509.28, "2024-10": 261528.12, "2024-11": 272870.28, "2024-12": 272870.28, "2025-01": 272870.28, "2025-02": 291970.94, "2025-03": 297518.12, "2025-04": 297518.12, "2025-05": 315369.16, "2025-06": 315369.16, "2025-07": 327269.46, "2025-08": 335451.58, "2025-09": 335451.58, "2025-10": 343633.70, "2025-11":  343633.70, "2025-12": 347069.86, "2026-01": 353942.18, "2026-02": 359096.42 },
    "8": { "2023-01": 5643.25, "2023-02":5643.25, "2023-03": 6602.50, "2023-04": 6602.50, "2023-05": 7900.75, "2023-06": 7900.75, "2023-07": 9593.50, "2023-08": 9593.50, "2023-09": 11004.25, "2023-10": 11004.25, "2023-11": 12245.75, "2023-12": 12245.75, "2024-01": 15307.00, "2024-02": 18123.50, "2024-03": 20052.75, "2024-04": 21637.00, "2024-05": 22887.00, "2024-06": 22887.00, "2024-07": 24387.00, "2024-08": 25412.00, "2024-09": 26537.00, "2024-10": 27704.25, "2024-11": 28905.75, "2024-12": 28905.75, "2025-01": 28905.75, "2025-02": 30929.13, "2025-03": 31516.75, "2025-04": 31516.75, "2025-05": 33407.75, "2025-06": 33407.75, "2025-07": 34668.38, "2025-08": 35535.13, "2025-09": 35535.13, "2025-10": 36401.88, "2025-11": 36401.88, "2025-12": 36765.88, "2026-01": 37493.88, "2026-02": 38039.88 },
    "1.18": { "2023-01": 53272.28, "2023-02":53272.28, "2023-03": 62327.60, "2023-04": 62327.60, "2023-05": 74583.08, "2023-06": 74583.08, "2023-07": 90562.64, "2023-08": 90562.64, "2023-09": 103880.12, "2023-10": 103880.12, "2023-11": 115599.88, "2023-12": 115599.88, "2024-01": 144498.08, "2024-02": 171085.84, "2024-03": 189297.96, "2024-04": 204253.28, "2024-05": 216053.28, "2024-06": 216053.28, "2024-07": 230213.28, "2024-08": 239889.28, "2024-09": 250509.28, "2024-10": 261528.12, "2024-11": 272870.28, "2024-12": 272870.28, "2025-01": 272870.28, "2025-02": 291970.94, "2025-03": 297518.12, "2025-04": 297518.12, "2025-05": 315369.16, "2025-06": 315369.16, "2025-07": 327269.46, "2025-08": 335451.58, "2025-09": 335451.58, "2025-10": 343633.70, "2025-11":  343633.70, "2025-12": 347069.86, "2026-01": 353942.18, "2026-02": 359096.42 },
  };

  const topesMensuales = {
    "455": { "2023-01": 40.428, "2023-02":40.428, "2023-03": 47.908, "2023-04": 47.908, "2023-05": 59.402, "2023-06": 59.402, "2023-07": 79.880, "2023-08": 79.880, "2023-09": 97.626, "2023-10": 97.626, "2023-11": 113.534, "2023-12": 113.534, "2024-01": 141.918, "2024-02": 168.030, "2024-03": 184.596, "2024-04": 184.596, "2024-05": 181.596, "2024-06": 181.596, "2024-07": 186.596, "2024-08": 194.596, "2024-09": 194.596, "2024-10": 191.258, "2024-11": 187.646, "2024-12": 187.646, "2025-01": 187.646, "2025-02": 200.782, "2025-03": 204.596, "2025-04": 204.596, "2025-05": 216.872, "2025-06": 216.872, "2025-07": 225.056, "2025-08": 230.682, "2025-09": 230.682, "2025-10": 236.308, "2025-11":  236.308, "2025-12": 238.672, "2026-01": 243.398, "2026-02": 246.944 },
    "667": { "2023-01": 28893.44, "2023-02":28893.44, "2023-03": 33804.8, "2023-04": 33804.8, "2023-05": 40451.84, "2023-06": 40451.84, "2023-07": 49118.72, "2023-08": 49118.72, "2023-09": 56341.76, "2023-10": 56341.76, "2023-11": 62698.24, "2023-12": 62698.24, "2024-01": 78371.84, "2024-02": 92792.32, "2024-03": 102670.08, "2024-04": 110781.44, "2024-05": 121392.648, "2024-06": 121392.648, "2024-07": 145931.808, "2024-08": 152065.41, "2024-09": 163043.33, "2024-10": 172652.89, "2024-11": 182684.34, "2024-12": 182684.34, "2025-01": 182684.34, "2025-02": 195472.07, "2025-03": 199185.86, "2025-04": 199185.86, "2025-05": 211136.98, "2025-06": 211136.98, "2025-07": 219104.14, "2025-08": 224.582, "2025-09": 224.582, "2025-10": 230059.85, "2025-11":  230059.85, "2025-12": 232360.33, "2026-01": 236961.29, "2026-02": 240412.01 }
  };

  const antiguedadCoef = { "0": 0.21, "5": 0.33, "10": 0.54, "20": 1.05, "24": 1.25 };
  const ruralidadCoef = { "R1": 0.30, "R2": 0.60, "R3": 0.90, "R4": 1.00, "R5": 1.20 };
  const plusEnsenanza = { "0623-Preescolar": 0.67, "0640-Especial": 0.20, "0641-Primaria": 0.67 };
  const bonificaciones = { "0653": 0.82, "06631": 0.82 };

  const indiceSelect = document.getElementById("indice");
  const mesSelect = document.getElementById("mes");

  Object.keys(sueldos).forEach(indice => {
    const option = document.createElement("option");
    option.value = indice;
    option.textContent = indice;
    indiceSelect.appendChild(option);
  });

  function actualizarMeses() {
    const anio = document.getElementById("anio").value;
    mesSelect.innerHTML = "";
    if (!anio) { mesSelect.disabled = true; return; }
    const meses = Object.keys(sueldos["1.1"]).filter(m => m.startsWith(anio));
    meses.forEach(mes => {
      const option = document.createElement("option");
      option.value = mes; option.textContent = mes;
      mesSelect.appendChild(option);
    });
    mesSelect.disabled = false;
  }

  function getBase() {
    const indice = indiceSelect.value;
    const mes = mesSelect.value;
    const multiplicador = parseInt(document.getElementById("factorMultiplicacion").value) || 1;
    if (!indice || !mes) return 0;
    let base = sueldos[indice]?.[mes] || (sueldos["1"]?.[mes] / parseFloat(indice)) || 0;
    return base * multiplicador;
  }

  function actualizarTodo() {
    const base = getBase();
    const mes = mesSelect.value;
    const indNum = parseFloat(indiceSelect.value) || 1;

    document.getElementById("valorBase").textContent = base ? `Base: $${base.toLocaleString('es-AR')}` : "";

    // 455
    const tope455 = topesMensuales["455"]?.[mes] || 0;
    const v455 = document.getElementById("codigo455").value === "455" ? (tope455/2)/indNum : 0;
    document.getElementById("valor455").textContent = v455 ? `+ $${v455.toLocaleString('es-AR')}` : "";

    // 667
    const tope667 = topesMensuales["667"]?.[mes] || 0;
    const v667 = document.getElementById("codigo667").value === "667" ? (tope667/2)/indNum : 0;
    document.getElementById("valor667").textContent = v667 ? `+ $${v667.toLocaleString('es-AR')}` : "";

    // CÃ³digo General (Porcentajes)
    const codGral = document.getElementById("codigoGral").value;
    let vGral = 0;
    if(codGral.endsWith("%")) vGral = base * (parseFloat(codGral)/100);
    else if(codGral === "X Ã­ndice") vGral = base;
    document.getElementById("valorCodigoGral").textContent = vGral ? `+ $${vGral.toLocaleString('es-AR')}` : "";
  }

  function mostrarMultiplicador() {
    const especiales = ["15", "18", "12", "14", "10", "8"];
    document.getElementById("multiplicadorContainer").style.display = especiales.includes(indiceSelect.value) ? 'flex' : 'none';
  }

  function calcular() {
    const base = getBase();
    if (base === 0) return alert("Seleccione datos vÃ¡lidos");

    const mes = mesSelect.value;
    const indNum = parseFloat(indiceSelect.value) || 1;
    
    // Sumar adicionales por tope
    const v455 = document.getElementById("codigo455").value === "455" ? (topesMensuales["455"]?.[mes] || 0)/2/indNum : 0;
    const v667 = document.getElementById("codigo667").value === "667" ? (topesMensuales["667"]?.[mes] || 0)/2/indNum : 0;
    
    // Sumar adicional por porcentaje
    const codGral = document.getElementById("codigoGral").value;
    let vGral = 0;
    if(codGral.endsWith("%")) vGral = base * (parseFloat(codGral)/100);
    else if(codGral === "X Ã­ndice") vGral = base;

    const antig = parseInt(document.getElementById("antiguedad").value) || 0;
    const rural = ruralidadCoef[document.getElementById("ruralidad").value] || 0;
    const plus = plusEnsenanza[document.getElementById("plus").value] || 0;
    const bonif = bonificaciones[document.getElementById("bonificacion").value] || 0;

    // Obtener coeficiente antigÃ¼edad (buscando el mÃ¡s cercano hacia abajo)
    let aCoef = 0;
    Object.keys(antiguedadCoef).sort((a,b)=>b-a).forEach(k => { if(antig >= k && aCoef === 0) aCoef = antiguedadCoef[k]; });

    const total = (base * (1 + aCoef + rural + plus + bonif)) + v455 + v667 + vGral;

    document.getElementById("resultContainer").style.display = "block";
    document.getElementById("resultado").textContent = `$${total.toLocaleString('es-AR', {minimumFractionDigits: 2})}`;
    window.lastTotal = total;
    document.getElementById("dividirBtn").style.display = "flex";
  }

  function dividirPor12() {
    const mensual = window.lastTotal / 12;
    document.getElementById("resultado").innerHTML = `$${window.lastTotal.toLocaleString('es-AR')} <br><small>Promedio: $${mensual.toLocaleString('es-AR')}</small>`;
  }
</script>
</body>
</html>
